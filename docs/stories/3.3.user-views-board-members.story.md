# Story 3.3: User Views Board Members

## Status
Draft

## Story
**As a** project member,
**I want** to see a list of all members on a project and their roles,
**so that** I know who is on the team and what their responsibilities are.

## Acceptance Criteria
1. An authorized user (any member of the board) can retrieve a list of all members for that board.
2. The list includes each member's user details (e.g., name, email) and their specific role on the board.
3. The API returns the list of members.
4. Users who are not members of the board cannot view the member list.

## Tasks / Subtasks
- [ ] Create `BoardMemberResponse` DTO containing user details (`firstName`, `lastName`, `email`) and their `role`.
- [ ] Implement a `getBoardMembers` method in `BoardService`. (AC: 1, 2, 4)
  - [ ] Verify the authenticated user is a member of the board.
  - [ ] Query for all `BoardMember` entities associated with the `boardId`.
  - [ ] Join with the `User` entity to get user details.
  - [ ] Map the results to a list of `BoardMemberResponse` DTOs.
- [ ] Implement a `GET /projects/{boardId}/members` endpoint in `BoardController`. (AC: 1, 3, 4)
  - [ ] Secure the endpoint with JWT authentication.
  - [ ] Call `BoardService.getBoardMembers`.
- [ ] Write unit tests for `BoardService`'s `getBoardMembers` method.
- [ ] Write integration tests for the `GET /projects/{boardId}/members` endpoint.

## Dev Notes
### Data Models
- This story will read from the `BoardMember` and `User` tables.
- [Source: architecture.md#4.8.-BoardMember-(Join-Table-for-Board-and-User), architecture.md#4.1.-User]

### API Specifications
- **Endpoint:** `GET /projects/{boardId}/members`
- **Security:** Requires JWT `bearerAuth`. User must be a member of the board.
- **Path Parameters:** `boardId` (UUID).
- **Responses:** 200 OK (returns list of `BoardMemberResponse`), 403 Forbidden, 404 Not Found.

### Component Specifications
- **Project Management Component:** The `BoardService` will be extended to handle fetching the member list.
- [Source: architecture.md#5.3.-Project-Management-Component]

### File Locations (based on Source Tree)
- **DTO:** `backend/src/main/java/com/grupo5/taskflow/dto/BoardMemberResponse.java`
- **Service:** `backend/src/main/java/com/grupo5/taskflow/service/BoardService.java` (updated)
- **Controller:** `backend/src/main/java/com/grupo5/taskflow/controller/BoardController.java` (updated)
- [Source: architecture.md#10.-Source-Tree]

### Testing
- **Unit Tests:** Update `BoardServiceTest.java`.
- **Integration Tests:** Update `BoardControllerIntegrationTest.java`.
- [Source: architecture.md#14.-Test-Strategy-and-Standards]

## Change Log
| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-11-05 | 1.0 | Initial draft of story 3.3 | Bob (Scrum Master) |

## Dev Agent Record
### Agent Model Used
{{agent_model_name_version}}

### Debug Log References

### Completion Notes List

### File List

## QA Results
