# Story 2.1: Project Board Creation

## Status
Draft

## Story
**As a** Project Manager,
**I want** to create new projects (boards) with a name and description,
**so that** I can effectively organize and manage my tasks and team collaborations.

## Acceptance Criteria
1. Project Managers must be able to create new projects (boards) with a name and description.

## Tasks / Subtasks
- [ ] Create `BoardModels` entity with `id`, `name`, `description`, `createdAt`, `updatedAt` fields. (AC: 1)
  - [ ] Define appropriate JPA annotations.
  - [ ] Implement `UUID` for `id` and `Instant` for timestamps.
- [ ] Create `BoardRepository` interface extending `JpaRepository`. (AC: 1)
- [ ] Create `BoardRequest` DTO for project creation (name, description). (AC: 1)
- [ ] Create `BoardResponse` DTO for returning created project details. (AC: 1)
- [ ] Implement `BoardService` with a method to create a new board. (AC: 1)
  - [ ] Validate input from `BoardRequest`.
  - [ ] Map `BoardRequest` to `BoardModels` entity.
  - [ ] Save the new board using `BoardRepository`.
  - [ ] Map the created `BoardModels` entity to `BoardResponse`.
  - [ ] Implement role-based access control to ensure only Project Managers can create boards.
- [ ] Implement `BoardController` with a POST endpoint `/projects`. (AC: 1)
  - [ ] Accept `BoardRequest` as input.
  - [ ] Call `BoardService` to create the board.
  - [ ] Return `BoardResponse` with HTTP status 201.
  - [ ] Secure the endpoint with JWT and `@PreAuthorize` for Project Manager role.
- [ ] Write unit tests for `BoardService`. (AC: 1)
  - [ ] Test successful board creation.
  - [ ] Test input validation.
  - [ ] Test authorization (e.g., unauthorized user attempts to create a board).
- [ ] Write unit tests for `BoardController`. (AC: 1)
  - [ ] Test successful API call and response.
  - [ ] Test error handling for invalid input.
  - [ ] Test security (e.g., unauthenticated access, unauthorized role access).
- [ ] Write integration tests for the `/projects` endpoint. (AC: 1)
  - [ ] Verify end-to-end flow of board creation.
  - [ ] Use Testcontainers for database interaction.

## Dev Notes
### Data Models
- `Board` model: `id` (UUID), `name` (String), `description` (String), `createdAt` (Instant), `updatedAt` (Instant). [Source: architecture/architecture.md#4.2. Board (Project)]

### API Specifications
- POST `/projects` endpoint.
- Request Body: `CreateProjectRequest` schema with `name` (string) and `description` (string).
- Security: Requires `bearerAuth` (JWT).
- Responses: 201 Created (returns `Board` object), 400 Invalid input, 401 Unauthorized.
- [Source: architecture/architecture.md#8. REST API Spec]

### Component Specifications
- `Project Management Component` is responsible for managing the creation of Boards.
- Key Interfaces: `BoardService` (business logic), `BoardRepository` (data access).
- Dependencies: `User Management Component` (for user details/roles), Data Access Layer.
- [Source: architecture/architecture.md#5.3. Project Management Component]

### File Locations (based on Source Tree)
- Controller: `backend/src/main/java/com/grupo5/taskflow/controller/BoardController.java` (or similar, within `controller` package)
- Service: `backend/src/main/java/com/grupo5/taskflow/service/BoardService.java` (or similar, within `service` package)
- Repository: `backend/src/main/java/com/grupo5/taskflow/repository/BoardRepository.java` (or similar, within `repository` package)
- Model (Entity): `backend/src/main/java/com/grupo5/taskflow/model/BoardModels.java` (or similar, within `model` package)
- DTO (Request): `backend/src/main/java/com/grupo5/taskflow/dto/BoardRequest.java` (or similar, within `dto` package)
- DTO (Response): `backend/src/main/java/com/grupo5/taskflow/dto/BoardResponse.java` (or similar, within `dto` package)
- [Source: architecture/architecture.md#10. Source Tree]

### Technical Constraints
- Backend: Spring Boot, Java 21.
- Database: H2 for local dev/tests, MySQL for production.
- Security: JWT for authentication, RBAC for authorization (Project Managers role required for creating boards).
- Use DTOs for API communication.
- Repository pattern for database access.
- Input validation for `CreateProjectRequest`.
- [Source: architecture/architecture.md#3. Tech Stack, #13. Coding Standards, #15. Security]

### Testing
- Test file location: `backend/src/test/java/com/grupo5/taskflow/` mirroring the main package structure.
- Test standards: Follow AAA pattern (Arrange, Act, Assert) for test structure. Mock all external dependencies in unit tests.
- Testing frameworks and patterns to use: JUnit 5, Mockito for backend unit tests. Testcontainers with MySQL for backend integration tests.
- Any specific testing requirements for this story: Generate tests for all public methods in services and controllers. Cover edge cases and error conditions.

## Change Log
| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-11-05 | 1.0 | Initial draft of story 2.1 | Bob (Scrum Master) |

## Dev Agent Record
### Agent Model Used
{{agent_model_name_version}}

### Debug Log References

### Completion Notes List

### File List

## QA Results
