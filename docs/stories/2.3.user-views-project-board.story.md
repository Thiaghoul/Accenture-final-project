# Story 2.3: User Views Project Board

## Status
Draft

## Story
**As a** project member,
**I want** to view all the tasks for a project on a Kanban-style board,
**so that** I can get a clear overview of the project's status and workflow.

## Acceptance Criteria
1. An authorized user (project member) can retrieve all columns and their associated cards (tasks) for a specific board.
2. The response data is structured to represent the board, with columns in their correct display order, and cards within each column.
3. The API provides full details for each card (title, assignee, priority, etc.).
4. Unauthorized users (not members of the board) are prevented from viewing the board's contents.
5. The endpoint for retrieving the board should be efficient and optimized for a typical frontend client's needs.

## Tasks / Subtasks
- [ ] Create `CardSummaryResponse` DTO containing essential card details for board view.
- [ ] Create `ColumnResponse` DTO containing column details and a list of `CardSummaryResponse` DTOs.
- [ ] Create `BoardDetailResponse` DTO containing board details and a list of `ColumnResponse` DTOs.
- [ ] Implement a `getBoardDetails` method in `BoardService`. (AC: 1, 2, 3)
  - [ ] Verify that the authenticated user is a member of the requested board.
  - [ ] Fetch the board, its columns (in order), and all associated cards.
  - [ ] Efficiently map the entities to the `BoardDetailResponse` DTO structure.
- [ ] Implement a `GET /projects/{boardId}` endpoint in a `BoardController`. (AC: 1, 4)
  - [ ] Secure the endpoint with JWT authentication.
  - [ ] Call `BoardService.getBoardDetails`.
  - [ ] Return the `BoardDetailResponse`.
- [ ] Write unit tests for `BoardService`'s `getBoardDetails` method. (AC: 1, 4)
- [ ] Write integration tests for the `GET /projects/{boardId}` endpoint. (AC: 1, 4)

## Dev Notes
### Data Models
- This story will primarily read from `Board`, `Column`, and `Card` models and their relationships. No new models are required.
- [Source: architecture.md#4.-Data-Models]

### API Specifications
- **Endpoint:** `GET /projects/{boardId}` (This is a common REST pattern for retrieving a resource, extending the `/projects` endpoint from Story 2.1).
- **Security:** Requires JWT `bearerAuth`. Authorization will be handled in the service layer to ensure the user is a member of the board.
- **Path Parameters:** `boardId` (UUID).
- **Responses:** 200 OK (returns `BoardDetailResponse`), 403 Forbidden, 404 Not Found.

### Component Specifications
- **Project Management Component:** The `BoardService` will be extended to handle the logic for fetching the complete board view.
- [Source: architecture.md#5.3.-Project-Management-Component]

### File Locations (based on Source Tree)
- **DTOs:**
  - `backend/src/main/java/com/grupo5/taskflow/dto/BoardDetailResponse.java`
  - `backend/src/main/java/com/grupo5/taskflow/dto/ColumnResponse.java`
  - `backend/src/main/java/com/grupo5/taskflow/dto/CardSummaryResponse.java`
- **Service:** `backend/src/main/java/com/grupo5/taskflow/service/BoardService.java` (updated)
- **Controller:** `backend/src/main/java/com/grupo5/taskflow/controller/BoardController.java` (updated)
- [Source: architecture.md#10.-Source-Tree]

### Testing
- **Unit Tests:** Update `BoardServiceTest.java`.
- **Integration Tests:** Update `BoardControllerIntegrationTest.java`.
- [Source: architecture.md#14.-Test-Strategy-and-Standards]

## Change Log
| Date | Version | Description | Author |
| :--- | :------ | :---------- | :----- |
| 2025-11-05 | 1.0 | Initial draft of story 2.3 | Bob (Scrum Master) |

## Dev Agent Record
### Agent Model Used
{{agent_model_name_version}}

### Debug Log References

### Completion Notes List

### File List

## QA Results
